# 前端网站和后台管理系统测试指南

## 📋 前置准备

确保已安装 Node.js 和 npm。

检查 Node.js 版本：
```bash
node -v
npm -v
```

## 🚀 启动服务

### 方式一：分别启动（推荐用于开发调试）

#### 1. 启动后端服务（端口 3002）

```bash
# 打开终端1
cd "/Users/liuyou/Downloads/斜杠/个人web网站/portfolio-backend"
npm install  # 首次运行或依赖更新时执行
npm start
```

**成功标志：**
- 看到 `Connected to SQLite database`
- 看到 `Server running on port 3002`

#### 2. 启动前端服务（端口 3000）

```bash
# 打开终端2
cd "/Users/liuyou/Downloads/斜杠/个人web网站/portfolio-frontend"
npm install  # 首次运行或依赖更新时执行
npm run dev
```

**成功标志：**
- 看到 `VITE v5.x.x ready`
- 显示 `Local: http://localhost:3000`

### 方式二：使用脚本一键启动

**Mac/Linux:**
```bash
cd "/Users/liuyou/Downloads/斜杠/个人web网站"
chmod +x portfolio-start.sh
./portfolio-start.sh
```

**Windows:**
```cmd
cd "C:\Users\liuyou\Downloads\斜杠\个人web网站"
portfolio-start.bat
```

## 🌐 访问地址

- **前端网站：** http://localhost:3000
- **后台管理系统：** http://localhost:3000/admin
- **后端API：** http://localhost:3002

## ✅ 前端网站测试清单

### 1. 首页测试

#### 导航栏
- [ ] 点击 "HOME" - 应回到首页顶部
- [ ] 点击 "ABOUT ME" - 应滚动到 About Me 区域
- [ ] 点击 "WORK" - 应跳转到 Works 页面
- [ ] 点击 "REVIEWS" - 应跳转到 Thoughts 页面
- [ ] 点击 "CONTACT" - 应跳转到 Contact 页面
- [ ] 选中的导航项应显示为**加粗、字号大2号、无下划线**

#### Hero 区域
- [ ] 显示 Logo（SVG 格式，黑色圆形背景上的白色XR）
- [ ] 显示头像（如果有）
- [ ] 显示问候语 "Hi, I'm Xure"
- [ ] 显示主标题
- [ ] 显示描述文字
- [ ] 点击 "BOOK A CALL" 按钮 - 应滚动到作品区域
- [ ] 点击箭头按钮 - 应平滑滚动到 "My latest works" 模块

#### About Me 区域
- [ ] 标题 "About Me" 与副标题间距合适
- [ ] 显示个人信息（头像、标题、描述等）
- [ ] 显示技能信息（如果有）

#### My latest works 区域
- [ ] 显示最多 8 个作品卡片
- [ ] 每个卡片包含：名称、图片、简介
- [ ] 分类标签（All, 交易类, 直播类, 游戏类, 工具类, 系统类）可切换
- [ ] **选中的分类标签应加粗、字号大1号、有下划线**
- [ ] 点击作品卡片可查看详情（如果有链接）

#### Blog/思考沉淀 区域
- [ ] 显示最多 6 个思考卡片
- [ ] 每个卡片包含：标题、图片、内容、浏览量、日期
- [ ] 卡片布局为网格（响应式）

#### Contact Me 区域
- [ ] 表单包含：姓名、邮箱、留言内容
- [ ] 点击 "Send Messages" 提交表单
- [ ] 提交成功显示成功提示
- [ ] 提交失败显示错误提示（包含具体原因）
- [ ] 邮箱格式验证（必须包含 @ 和 .）

#### Footer
- [ ] Logo 显示为 SVG 格式（与顶部导航栏一致）
- [ ] Quick links：
  - [ ] "Home" - 点击回到首页
  - [ ] "About me" - 点击滚动到 About Me 模块
  - [ ] "Work" - 点击滚动到 My latest works 模块
  - [ ] "Contact me" - 点击滚动到 Contact Me 模块
- [ ] 社交媒体链接（如果有）

### 2. Works 页面测试
- [ ] 显示所有作品
- [ ] 分类筛选功能正常
- [ ] 选中的分类标签样式正确（加粗、大字号、下划线）
- [ ] 点击作品可跳转到链接（如果有）

### 3. Thoughts 页面测试
- [ ] 显示所有思考沉淀内容
- [ ] 卡片布局正常
- [ ] 显示浏览量、日期等信息

### 4. Gallery 页面测试
- [ ] 显示图册内容
- [ ] 图片展示正常
- [ ] 网格布局响应式

### 5. Contact 页面测试
- [ ] 表单功能与首页 Contact 区域一致
- [ ] 显示联系方式（邮箱、微信二维码、QQ二维码）
- [ ] 提交功能正常

## 🔐 后台管理系统测试清单

### 1. 登录测试

访问：http://localhost:3000/admin

#### 登录界面
- [ ] 显示 SVG Logo（居中）
- [ ] 显示登录表单（用户名、密码）
- [ ] **不显示默认账号密码提示**
- [ ] 输入框文字为黑色

#### 登录功能
- [ ] 使用账号 `Liuxueyou` / 密码 `5203013009LXYdsg` 登录
- [ ] 登录成功跳转到管理界面
- [ ] 登录失败显示错误提示
- [ ] Token 正确保存到 localStorage

### 2. 个人信息管理测试

#### 查看
- [ ] 显示当前个人信息
- [ ] 图片正确显示（头像、微信二维码、QQ二维码）

#### 编辑
- [ ] 点击 "编辑" 按钮（或直接编辑）
- [ ] 表单字段可编辑：
  - [ ] 头像上传
  - [ ] 主标题
  - [ ] 副标题
  - [ ] 描述
  - [ ] 技能
  - [ ] 微信二维码
  - [ ] QQ二维码
  - [ ] 邮箱
- [ ] **输入框文字为黑色**
- [ ] **上传图片后立即显示预览**
- [ ] 点击 "保存" 成功保存
- [ ] 保存后前端网站相应内容更新

### 3. 作品管理测试

#### 查看列表
- [ ] 显示所有作品
- [ ] 表格显示：ID、名称、分类、图片、操作

#### 添加作品
- [ ] 填写表单：
  - [ ] 名称（必填）
  - [ ] 描述
  - [ ] 图片上传（支持预览）
  - [ ] 链接
  - [ ] 分类（交易类/直播类/游戏类/工具类/系统类）
- [ ] 保存成功
- [ ] 前端网站显示新作品

#### 编辑作品
- [ ] 点击作品行的 "编辑"
- [ ] 修改内容
- [ ] 保存成功
- [ ] 前端网站更新

#### 删除作品
- [ ] 点击 "删除"
- [ ] 确认删除
- [ ] 删除成功
- [ ] 前端网站不再显示该作品

### 4. 思考沉淀管理测试

功能与作品管理类似：
- [ ] 查看列表
- [ ] 添加新思考
- [ ] 编辑思考
- [ ] 删除思考
- [ ] 图片上传和预览正常

### 5. 图册管理测试

- [ ] 查看列表
- [ ] 添加新图册
- [ ] 编辑图册
- [ ] 删除图册
- [ ] 图片上传和预览正常

### 6. 留言管理测试

- [ ] 查看所有留言
- [ ] 显示留言者信息（姓名、邮箱、内容、时间）
- [ ] 修改留言状态（未读、已读、已回复）
- [ ] 删除留言功能

### 7. 友情链接管理测试

- [ ] 查看列表
- [ ] 添加新链接
- [ ] 编辑链接
- [ ] 删除链接

### 8. 文件上传测试

#### 图片上传
- [ ] 选择图片文件
- [ ] 上传进度显示
- [ ] 上传成功显示预览
- [ ] 支持的文件格式：jpg, jpeg, png, gif, webp
- [ ] 文件大小限制：5MB
- [ ] 超过限制显示明确错误提示

#### 错误处理
- [ ] 文件过大 - 显示 "文件大小不能超过 5MB"
- [ ] 文件类型不支持 - 显示 "不支持的文件类型"
- [ ] 网络错误 - 显示相应错误信息

### 9. 退出登录测试

- [ ] 点击 "退出登录"
- [ ] 返回登录页面
- [ ] Token 从 localStorage 清除
- [ ] 再次访问管理页面需要重新登录

### 10. 权限测试

- [ ] 未登录时访问管理页面 - 显示登录界面
- [ ] 未登录时直接访问 API - 返回 401 错误
- [ ] Token 过期后 - 需要重新登录

## 🐛 常见问题排查

### 前端无法连接后端

**症状：** 前端显示网络错误或 404

**解决：**
1. 确认后端服务运行在端口 3002
2. 检查 `portfolio-frontend/vite.config.js` 中的代理配置
3. 查看浏览器控制台网络请求
4. 确认后端服务已启动

### 图片上传失败

**症状：** 上传图片返回 500 错误

**解决：**
1. 检查文件大小（不超过 5MB）
2. 检查文件格式（jpg, png, gif, webp）
3. 查看后端终端错误日志
4. 确认 `portfolio-backend/uploads` 目录存在且有写权限

### 登录失败

**症状：** 输入正确账号密码仍提示错误

**解决：**
1. 确认后端服务已重启（应用新的账号密码）
2. 检查浏览器控制台网络请求
3. 查看后端终端日志（有调试信息）
4. 清除浏览器缓存和 localStorage
5. 确认账号：`Liuxueyou`，密码：`5203013009LXYdsg`

### 数据保存失败

**症状：** 点击保存后无响应或报错

**解决：**
1. 检查是否已登录（Token 是否有效）
2. 查看浏览器控制台错误信息
3. 查看后端终端错误日志
4. 检查必填字段是否已填写

### 图片不显示

**症状：** 上传的图片在前端不显示

**解决：**
1. 确认图片路径正确（`http://localhost:3002/uploads/...`）
2. 检查后端 `uploads` 目录中的文件是否存在
3. 确认后端静态文件服务配置正确
4. 检查浏览器控制台是否有 404 错误

## 📝 测试数据建议

### 测试作品数据
- 添加不同分类的作品（交易类、直播类、游戏类等）
- 测试有图片和无图片的作品
- 测试有链接和无链接的作品

### 测试图片
- 使用不同格式的图片（jpg, png, gif, webp）
- 测试不同大小的图片（小图、大图、超大图）
- 测试图片上传预览功能

### 测试留言
- 提交正常留言
- 测试邮箱格式验证
- 测试必填字段验证

## 🔄 重启服务

如果遇到问题，可以重启服务：

```bash
# 停止后端（在运行后端的终端按 Ctrl+C）
# 然后重新启动
cd "/Users/liuyou/Downloads/斜杠/个人web网站/portfolio-backend"
npm start

# 停止前端（在运行前端的终端按 Ctrl+C）
# 然后重新启动
cd "/Users/liuyou/Downloads/斜杠/个人web网站/portfolio-frontend"
npm run dev
```

## 📞 获取帮助

如果测试过程中遇到问题：
1. 查看浏览器控制台（F12）
2. 查看后端终端日志
3. 检查网络请求（浏览器开发者工具 > Network）
4. 确认数据库文件 `portfolio-backend/portfolio.db` 存在
5. 检查端口是否被占用：`lsof -i :3000` 和 `lsof -i :3002`

## ✅ 快速测试流程

1. **启动服务**
   ```bash
   # 终端1
   cd portfolio-backend && npm install && npm start
   
   # 终端2
   cd portfolio-frontend && npm install && npm run dev
   ```

2. **测试前端**
   - 访问 http://localhost:3000
   - 检查首页各个区域
   - 测试导航功能
   - 测试留言表单

3. **测试后台**
   - 访问 http://localhost:3000/admin
   - 登录（账号：Liuxueyou，密码：5203013009LXYdsg）
   - 测试各个管理功能
   - 上传图片测试
   - 添加/编辑/删除数据测试

4. **验证数据同步**
   - 在后台添加数据
   - 刷新前端页面
   - 确认数据已显示
